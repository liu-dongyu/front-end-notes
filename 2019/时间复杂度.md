## 什么是时间复杂度

衡量算法执行所需要的时间，并非精确值，只是估算。

### 定义

存在某个辅助函数 f(n)，使得 n 无穷大时，T(n)/f(n)为不能于 0 的常数，则称 f(n)为 T(n)的同数量级函数，记做 T(n)=O(f(n))

### 什么是 T(n)

算法中语句的执行次数称为语句频度或时间频度，计为 T(n)。

```javascript
var test = function() {
  return 1; // 执行1次，所以test方法的时间频度为1，计做T(n)=1
};
```

### 什么是 O

大 O 是用于描述函数渐进行为的数学符号，当 n 不变化时，T(n)也在不断变化，变化的规则就是时间复杂度，所以用大 O 表示的也称为渐进时间复杂度

## 常见的时间复杂度

- 常数阶 O(1)
- 线性阶 O(n)
- 对数阶 O(logn)
- nlogn 阶
- 平方阶 O(n^2)
- 立方阶 O(n^3)
- 指数阶 O(2^n)
- 阶乘阶 O(n!)

### 推导规则

> 加法常数：T(n)=n+2，2 就是加法常数

1. 用常数 1 来取代所有加法常数
2. 计算 T(n)时，只保留最高阶项
3. 如果最高阶项存在且不为 1，则去成这个项相乘的常数

### 常数阶

```javascript
var a = 1; // 执行1次
a++; // 执行1次
console.log(a); // 执行1次
```

该方法执行 3 次，T(n)=3，根据推导规则 1 得出 T(n)=1，所以时间复杂度为 O(1)

### 线性阶

```javascript
for (var i = 0; i < n; i++) {} // 执行n次
```

该方法执行 n 次数，T(n)=n，所以时间复杂度为 O(n)

### 对数阶

```javascript
var num = 1;
while (num < n) {
  num = num * 2; // num=2,num=4,num=8 ... 次数越多，num越趋近于n
}
```

存在 x，使得 2^x >= n，x >= log2n，所以时间复杂度为 O(logn)

**为什么不是 O(log2n)?**

当 n 趋近于无穷大时，log2n、log3n 这两对数只相差一个常数，而时间复杂度本来只是估算，所以 log 的底数(比如 2)一般不重要，只保留真数 n

### 平方阶

```javascript
for (var i = 0; i < n; i++) {
  for (var j = i; i < n; j++) {}
}
```

当外层循环 n 次时，内层循环 n-1 次，而 i=n-1 时，内层执行 1 次，n+(n-1)+(n-1)+...+1=(n^2)/2+n/2。基于推导规则 2&3，(n^2)/2+n/2 => n^2。计做 T(n)=n^2，所以时间复杂度为 O(n^2)

## 复杂度比较

| n    | logn | nlogn | n^2  | n^3    | 2^n       | n!               |
| ---- | ---- | ----- | ---- | ------ | --------- | ---------------- |
| 5    | 2    | 10    | 25   | 125    | 32        | 120              |
| 50   | 5    | 250   | 2500 | 125000 | 约 10^15  | 约 `3.0*10^64`   |
| 1000 | 9    | 9000  | 10^6 | 10^9   | 约 10^300 | 约 `4.0*10^2567` |

## 参考资料

[掘金](https://juejin.im/post/58d15f1044d90400691834d4)  
[csdn](https://blog.csdn.net/jdbc/article/details/42173751)
